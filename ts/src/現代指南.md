ç¾ä»£ TypeScript æŒ‡å—ï¼ˆå¯¦å‹™ç‰ˆï¼‰
ä¸€ã€æ ¸å¿ƒå¿ƒæ³•ï¼ˆå…ˆè¨˜é€™ 3 å¥ï¼‰

1ï¸âƒ£ å‹åˆ¥æ˜¯çµ¦ã€Œäººã€è·Ÿã€Œç·¨è­¯å™¨ã€çœ‹çš„ï¼Œä¸æ˜¯çµ¦ JS è·‘çš„
2ï¸âƒ£ èƒ½æ¨æ–·å°±ä¸å¯«ï¼Œè©²é™åˆ¶ä¸€å®šè¦é™åˆ¶
3ï¸âƒ£ é¿å… anyï¼Œä¸æ˜¯ç‚ºäº†æ½”ç™–ï¼Œæ˜¯ç‚ºäº†æœªä¾†çš„ä½ 

äºŒã€åŸºæœ¬è¨­å®šï¼ˆå°ˆæ¡ˆä¸€é–‹å§‹å°±è©²é€™æ¨£ï¼‰
âœ… tsconfig å»ºè­°ï¼ˆé‡é»ç‰ˆï¼‰
{
"compilerOptions": {
"strict": true,
"noImplicitAny": true,
"strictNullChecks": true,
"strictPropertyInitialization": true
}
}

ç™½è©±ï¼š

é–‹ strict ä¸æ˜¯æŠ˜ç£¨ä½ ï¼Œæ˜¯æ•‘ä½ 

æ—©éŒ¯æ¯”æ™šç‚¸å¥½

ä¸‰ã€å‹åˆ¥å®£å‘ŠåŸå‰‡ï¼ˆè¶…é‡è¦ï¼‰
1ï¸âƒ£ èƒ½è®“ TS æ¨æ–·å°±ä¸è¦å¯«
const count = 0; // âœ… number
const name = "Tom"; // âœ… string

âŒ ä¸è¦é€™æ¨£ï¼š

const count: number = 0;

2ï¸âƒ£ å‡½å¼ã€Œåƒæ•¸è¦å¯«ï¼Œå›å‚³å¸¸å¯ä¸å¯«ã€
function add(a: number, b: number) {
return a + b; // TS è‡ªå‹•æ¨æ–· number
}

å››ã€interface vs typeï¼ˆç¾ä»£é¸æ“‡ï¼‰
âœ… interface ç”¨åœ¨ã€Œè³‡æ–™çµæ§‹ / API / ç‰©ä»¶ã€
interface User {
id: number;
name: string;
}

âœ… type ç”¨åœ¨ã€Œè¯é›† / æ³›å‹å·¥å…· / å‡½å¼ã€
type ID = string | number;

type Fn<T> = (value: T) => T;

ğŸ‘‰ ä¸è¦ç³¾çµï¼Œèªæ„å°å°±å¥½

äº”ã€classï¼ˆç¾ä»£ TS çš„ç”¨æ³•ï¼‰
1ï¸âƒ£ é è¨­ publicï¼Œä¸ç”¨å¯«
class User {
name: string;
}

2ï¸âƒ£ è³‡æ–™æ¬„ä½ç”¨ private / protected
class User {
private password: string;

constructor(password: string) {
this.password = password;
}
}

3ï¸âƒ£ abstractï¼šè¨­è¨ˆåœ–ï¼Œä¸æ˜¯å¯¦é«”
abstract class Animal {
abstract speak(): void;
}

ä¸èƒ½ newï¼Œåªèƒ½è¢«ç¹¼æ‰¿

å…­ã€æ³›å‹ï¼ˆç¾ä»£ TS çš„éˆé­‚ï¼‰
1ï¸âƒ£ æ³›å‹ä¸æ˜¯ä¸é™åˆ¶ï¼Œæ˜¯ã€Œå»¶å¾Œæ±ºå®šã€
function identity<T>(value: T): T {
return value;
}

2ï¸âƒ£ æœ‰é‚è¼¯å°±è¦åŠ é™åˆ¶ï¼ˆextendsï¼‰
function getLength<T extends { length: number }>(x: T) {
return x.length;
}

3ï¸âƒ£ å¤šæ³›å‹ï¼šæè¿°ã€Œå‹åˆ¥é—œä¿‚ã€
function swap<A, B>(pair: [A, B]): [B, A] {
return [pair[1], pair[0]];
}

ä¸ƒã€é¿å… anyï¼ˆä½†ä¸æ˜¯ä¸ç”¨ï¼‰
âŒ èƒ½ä¸ç”¨å°±ä¸ç”¨
function fn(value: any) {} // âŒ

âœ… æ”¹ç”¨ unknown
function fn(value: unknown) {
if (typeof value === "string") {
value.toUpperCase();
}
}

ğŸ‘‰ unknown = å®‰å…¨ç‰ˆ any

å…«ã€å‡½å¼å¤šè¼‰ vs æ³›å‹ï¼ˆé¸æ“‡æŒ‡å—ï¼‰
ç”¨ã€Œå¤šè¼‰ã€çš„æƒ…æ³
function reverse(x: number): number;
function reverse(x: string): string;
function reverse(x: number | string) {
...
}

âœ” å‚³ä¸åŒå‹åˆ¥
âœ” å›å‚³å‹åˆ¥ä¸åŒ

ç”¨ã€Œæ³›å‹ã€çš„æƒ…æ³
function wrap<T>(value: T): T[] {
return [value];
}

âœ” å‹åˆ¥è¦ä¸€è·¯ä¿ç•™
âœ” ä¸é—œå¿ƒå¯¦éš›å…§å®¹

ä¹ã€å·¥å…·å‹åˆ¥ï¼ˆå¯¦å‹™å¿…æœƒï¼‰
å¸¸ç”¨æ¸…å–®ï¼ˆè«‹èƒŒï¼‰
Partial<T> // æ¬„ä½å¯ç¼º
Pick<T, K> // æŒ‘æ¬„ä½
Omit<T, K> // æ‹¿æ‰æ¬„ä½
Record<K, V> // Key-Value ç‰©ä»¶
Readonly<T> // ä¸èƒ½æ”¹

å¯¦å‹™ä¾‹å­
function updateUser(user: User, patch: Partial<User>) {}

åã€React + TSï¼ˆä½ ä¸€å®šæœƒç”¨ï¼‰
useStateï¼ˆè®“ TS æ¨æ–·ï¼‰
const [count, setCount] = useState(0); // number

propsï¼ˆç”¨ interfaceï¼‰
interface ButtonProps {
label: string;
onClick: () => void;
}

callback æ³›å‹
const onChange = (value: string) => {};

åä¸€ã€å¸¸è¦‹å£å‘³é“ï¼ˆè«‹é¿é–‹ï¼‰

âŒ any æ»¿å¤©é£›
âŒ éåº¦æŠ½è±¡æ³›å‹
âŒ interface / type æ··äº‚ç„¡èªæ„
âŒ ç‚ºäº†ä¸å ±éŒ¯äº‚ç”¨ as
